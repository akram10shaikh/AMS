{% extends 'player_app/organization/base.html' %}
{% block extra_head %}
<style>
    .container { margin-left: 50px; padding: 32px 40px;  }
    .form-card { background: #fff; border-radius: 18px; box-shadow: 0 2px 12px #eff0f6; padding: 2.2rem 2.2rem 1.5rem 2.2rem;  margin: auto; }
    .form-title { font-size: 1.25rem; font-weight: 600; margin-bottom: 28px; color: #232733; }
    form { display: grid; grid-template-columns: 1fr 1fr; gap: 28px 42px; }
    .form-group { display: flex; flex-direction: column; margin-bottom: 0; }
    .form-group label { font-size: 1rem; color: #3e3e50; font-weight: 500; margin-bottom: 8px; }
    .form-group input[type="text"],
    .form-group input[type="email"],
    .form-group input[type="date"],
    .form-group input[type="number"],
    .form-group select,
    .form-group input[type="password"] {
      padding: 10px 12px;
      border: 1px solid #d4d7e1;
      border-radius: 8px;
      font-size: 1rem;
      color: #232733;
      background: #f6f7fa;
      outline: none;
      transition: border 0.2s;
    }
    .form-group input[type="file"] {
      padding: 9px 3px;
      font-size: 1rem;
      background: none;
      border: none;
    }
    .form-group input:focus, .form-group select:focus {
      border: 1.5px solid #b9e62d;
      background: #fff;
    }
    .full-width { grid-column: span 2; }
    .btn-submit {
      background: #e6f249;
      color: #232733;
      border: none;
      font-weight: 600;
      font-size: 1.08rem;
      border-radius: 8px;
      padding: 12px 32px;
      cursor: pointer;
      margin-top: 16px;
      transition: background 0.15s;
    }
    .btn-submit:hover { background: #dce93f; }
    .invalid-feedback { color: crimson; font-size:0.95em; }
    .alert { grid-column: span 2; }
    @media (max-width: 800px) {
      .form-card { padding: 18px 4vw; }
      form { grid-template-columns: 1fr; gap: 20px 0; }
      .full-width { grid-column: span 1; }
      .container { margin-left: 0; padding: 10px 5vw; }
      .sidebar { display: none; }
    }
</style>
{% endblock %}

{% block content %}
<div class="container">
  <div class="form-card">
    <div class="form-title">{{ title }}</div>
    <form method="post" enctype="multipart/form-data" autocomplete="off">
      {% csrf_token %}

      {# Display form-wide (non-field) errors at top #}
      {% if form.non_field_errors %}
        <div class="alert alert-danger">
          {% for error in form.non_field_errors %}
            {{ error }}<br>
          {% endfor %}
        </div>
      {% endif %}

      {# Only include the fields you allowed in your form - organization_player_form #}
      <div class="form-group">
        {{ form.name.label_tag }}
        {{ form.name }}
        {% for error in form.name.errors %}
          <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
      </div>
      <div class="form-group">
        {{ form.image.label_tag }}
        {{ form.image }}
        {% for error in form.image.errors %}
          <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
      </div>
      <div class="form-group">
        {{ form.email.label_tag }}
        {{ form.email }}
        {% for error in form.email.errors %}
          <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
      </div>
      <div class="form-group">
        {{ form.password.label_tag }}
        {{ form.password }}
        {% for error in form.password.errors %}
          <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
      </div>
      <div class="form-group">
        {{ form.date_of_birth.label_tag }}
        {{ form.date_of_birth }}
        {% for error in form.date_of_birth.errors %}
          <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
      </div>
      <div class="form-group">
        {{ form.primary_contact_number.label_tag }}
        {{ form.primary_contact_number }}
        {% for error in form.primary_contact_number.errors %}
          <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
      </div>
      <div class="form-group">
        {{ form.secondary_contact_number.label_tag }}
        {{ form.secondary_contact_number }}
        {% for error in form.secondary_contact_number.errors %}
          <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
      </div>
      <div class="form-group">
        {{ form.gender.label_tag }}
        {{ form.gender }}
        {% for error in form.gender.errors %}
          <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
      </div>
      <div class="form-group">
        {{ form.state.label_tag }}
        {{ form.state }}
        {% for error in form.state.errors %}
          <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
      </div>
      <div class="form-group">
        {{ form.role.label_tag }}
        {{ form.role }}
        {% for error in form.role.errors %}
          <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
      </div>
      <div class="form-group">
        {{ form.batting_style.label_tag }}
        {{ form.batting_style }}
        {% for error in form.batting_style.errors %}
          <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
      </div>
      <div class="form-group">
        {{ form.bowling_style.label_tag }}
        {{ form.bowling_style }}
        {% for error in form.bowling_style.errors %}
          <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
      </div>
      <div class="form-group">
        {{ form.handedness.label_tag }}
        {{ form.handedness }}
        {% for error in form.handedness.errors %}
          <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
      </div>
      <div class="form-group">
        {{ form.age_category.label_tag }}
        {{ form.age_category }}
        {% for error in form.age_category.errors %}
          <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
      </div>
      <div class="form-group">
        {{ form.guardian_name.label_tag }}
        {{ form.guardian_name }}
        {% for error in form.guardian_name.errors %}
          <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
      </div>
      <div class="form-group">
        {{ form.relation.label_tag }}
        {{ form.relation }}
        {% for error in form.relation.errors %}
          <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
      </div>
      <div class="form-group">
        {{ form.guardian_mobile_number.label_tag }}
        {{ form.guardian_mobile_number }}
        {% for error in form.guardian_mobile_number.errors %}
          <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
      </div>
      
      <div class="form-group full-width" style="padding-bottom:100px;">
        <button class="btn-submit" type="submit">Save</button>
      </div>

    </form>
  </div>
</div>
{% endblock %}
